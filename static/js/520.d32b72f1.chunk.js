"use strict";(self.webpackChunkgoit_project_petly=self.webpackChunkgoit_project_petly||[]).push([[520],{8520:function(e,t,n){n.r(t),n.d(t,{Notices:function(){return _}});var a=n(9439),r=n(2791),i=n(7689),o=n(6456),s=n(9085),l=n(184),d=function(e){var t=e.searchFunction,n=(0,r.useState)(""),i=(0,a.Z)(n,2),d=i[0],c=i[1];return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(o.HS,{name:"search",onChange:function(e){c(e.target.value.toLowerCase()),t(e.target.value)},handleSearch:function(e){e.preventDefault(),""!==d.trim()?t(d):(0,s.Am)("What pet do you need?")},handleClear:function(){c(""),t("")},value:d,mb:"28px"}),(0,l.jsx)(s.Ix,{})]})},c=n(8348),x=n(4087),m=n(9229),p={categoryName:"lost-found",title:"",name:"",birthday:"",breed:"",sex:"male",location:"",price:"",photo:null,comments:""},u=n(1724),h=n(2426),f=n.n(h),b=["image/jpg","image/jpeg","image/png"],g=u.Ry().shape({categoryName:u.Z_().oneOf(["lost-found","for-free","sell"]).required("Required"),title:u.Z_().min(2).max(48).required("Required"),name:u.Z_().min(2).max(16),birthday:u.hT().min(f()("06021995","DDMMYYYY"),"Must be at later than 06.02.1995").max(f()(),"Must be at earlier than ".concat(f()().add(1,"days").format("DD.MM.YYYY"))),breed:u.Z_().min(2).max(24),sex:u.Z_().oneOf(["male","female"]).required("Required"),location:u.Z_().matches(/^(?:(?:\w+-\w+)+|(?:\w+)+),\s(?:(?:\w+-\w+)+|(?:\w+)+)$/,"Must be in format City, Region").required("Required"),price:u.Z_().matches(/(^[1-9])(\d*)$/,"Must be a positive integer number").nullable().defined(),photo:u.nK().test("fileFormat","Unsupported file type",(function(e){return null===e||e&&b.includes(e.type)})).nullable(),comments:u.Z_().min(8).max(120).required("Required")}),j=n(5705),y=n(9434),v=n(5984),w=n(5062),C=n(1686),M=function(e){var t=e.onClose,n=(0,y.I0)(),i=(0,y.v9)(C.uL),s=(0,r.useState)(!0),d=(0,a.Z)(s,2),c=d[0],u=d[1],h=(0,r.useMemo)((function(){return(0,v.x0)()}),[]),b=(0,r.useMemo)((function(){return(0,v.x0)()}),[]),M=(0,r.useMemo)((function(){return(0,v.x0)()}),[]),F=(0,r.useMemo)((function(){return(0,v.x0)()}),[]),D=(0,r.useMemo)((function(){return(0,v.x0)()}),[]),Y=(0,r.useMemo)((function(){return(0,v.x0)()}),[]),S=(0,r.useMemo)((function(){return(0,v.x0)()}),[]),_=(0,r.useMemo)((function(){return(0,v.x0)()}),[]);function k(e,t){var n=t.title,a=t.name,r=t.birthday,i=t.breed;return!e||void 0!==n||void 0!==a||void 0!==r||void 0!==i}return(0,l.jsx)(j.J9,{initialValues:p,validationSchema:g,onSubmit:function(e,a){var r=e.categoryName,i=e.title,s=e.name,l=e.birthday,d=e.breed,c=e.sex,x=e.location,m=e.price,p=e.photo,u=e.comments,h=a.resetForm,b=new FormData;b.append("categoryName",r),b.append("title",i.trim()),b.append("name",s.trim()),b.append("birthdate",l?f()(l,"YYYYY-MM-DD").format("DD.MM.YYYY"):null),b.append("breed",d.trim()),b.append("sex",c),b.append("location",x.trim()),b.append("price",m?Number(m):null),b.append("photo",p),b.append("comments",u.trim()),n((0,w.Fy)(b)).then((function(e){var n=e.error;if(n)return(0,o.Jc)(n.message);(0,o.Qm)("Notice successfully added"),h(),t()})).catch((function(e){return(0,o.Jc)(e.message)}))},validateOnChange:!0,validateOnBlur:!0,children:function(e){var n=e.values,a=e.errors,r=e.dirty;return(0,l.jsx)(j.l0,{autoComplete:"off",encType:"multipart/form-data",children:c?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(o.gt,{control:"category-radio",name:"categoryName"}),(0,l.jsx)(o.gt,{type:"text",name:"title",label:(0,l.jsxs)(l.Fragment,{children:["Title of ad",(0,l.jsx)(m.x,{color:"accent.accentOrange",children:"*"})]}),placeholder:"Type title",id:h,width:60}),(0,l.jsx)(o.gt,{type:"text",name:"name",label:"Name pet",placeholder:"Type name pet",id:b,width:60}),(0,l.jsx)(o.gt,{type:"date",name:"birthday",label:"Date of birthday",id:M,width:60}),(0,l.jsx)(o.gt,{type:"text",name:"breed",label:"Breed",placeholder:"Type breed",id:F,width:60,mb:"40px"}),(0,l.jsxs)(x.xu,{maxW:"none",display:"flex",flexDirection:{base:"column",md:"row-reverse"},justifyContent:{base:"center",md:"center"},children:[(0,l.jsx)(o.zx,{controle:"secondary",onClick:function(){return u(!1)},isDisabled:k(r,a),mb:{base:"3",md:"0"},width:{md:"180px"},children:"Next"}),(0,l.jsx)(o.zx,{onClick:t,mr:{md:"5"},width:{md:"180px"},children:"Cancel"})]})]}):(0,l.jsxs)(x.xu,{display:"flex",flexDirection:"column",maxW:"none",children:[(0,l.jsx)(o.gt,{control:"sex-radio",name:"sex",label:(0,l.jsxs)(l.Fragment,{children:["The sex",(0,l.jsx)(m.x,{color:"accent.accentOrange",children:"*"})]})}),(0,l.jsx)(o.gt,{type:"text",name:"location",label:(0,l.jsxs)(l.Fragment,{children:["Location",(0,l.jsx)(m.x,{color:"accent.accentOrange",children:"*"})]}),placeholder:"Type location",id:D,width:"60"}),"sell"===n.categoryName&&(0,l.jsx)(o.gt,{type:"text",name:"price",label:(0,l.jsxs)(l.Fragment,{children:["Price",(0,l.jsx)(m.x,{color:"accent.accentOrange",children:"*"})]}),placeholder:"Type price",id:Y,width:"60"}),(0,l.jsx)(m.x,{fontSize:{base:"18px",md:"2xl"},fontWeight:"medium",lineHeight:{base:"short",md:"1.2"},letterSpacing:"-0.01em",mb:"5",children:"Load the pet`s image"}),(0,l.jsx)(o.gt,{control:"file",id:S,name:"photo",size:{base:"116px",md:"140px"},borderRadius:"20px",plusSize:{base:"55%",md:"50%"}}),(0,l.jsx)(o.gt,{control:"textarea",name:"comments",label:(0,l.jsxs)(l.Fragment,{children:["Comments",(0,l.jsx)(m.x,{color:"accent.accentOrange",children:"*"})]}),placeholder:"Type comments",id:_}),(0,l.jsxs)(x.xu,{maxW:"none",width:"full",display:"flex",flexDirection:{base:"column",md:"row-reverse"},justifyContent:{base:"center",md:"center"},children:[(0,l.jsx)(o.zx,{type:"submit",mb:{base:"3",md:"0"},controle:"secondary",width:{md:"180px"},children:i?"Adding...":"Done"}),(0,l.jsx)(o.zx,{onClick:function(){return u(!0)},mr:{md:"5"},width:{md:"180px"},children:"Back"})]})]})})}})},F=n(9869),D=(0,n(5903).I)({d:"M0,12a1.5,1.5,0,0,0,1.5,1.5h8.75a.25.25,0,0,1,.25.25V22.5a1.5,1.5,0,0,0,3,0V13.75a.25.25,0,0,1,.25-.25H22.5a1.5,1.5,0,0,0,0-3H13.75a.25.25,0,0,1-.25-.25V1.5a1.5,1.5,0,0,0-3,0v8.75a.25.25,0,0,1-.25.25H1.5A1.5,1.5,0,0,0,0,12Z",displayName:"AddIcon"}),Y=function(){var e=(0,c.q)(),t=e.isOpen,n=e.onOpen,a=e.onClose,r=(0,y.v9)(F.M7);return(0,l.jsx)(x.xu,{maxWidth:{base:"280px",md:"704px",xl:"1248px"},mx:"auto",id:"22",children:(0,l.jsxs)(x.xu,{mb:{base:"30px",md:"60px"},display:"flex",children:[(0,l.jsxs)(x.xu,{as:"nav",maxW:{base:"280px",md:"474px",xl:"802px"},display:"flex",flexWrap:"wrap",gap:{base:"12px",md:"16px 12px",xl:"12px"},mr:"auto",ml:{base:"auto",md:"0"},children:[(0,l.jsx)(o.g6,{to:"lost-found",children:"lost/found"}),(0,l.jsx)(o.g6,{to:"free",children:"in good hand"}),(0,l.jsx)(o.g6,{to:"sell",children:"sell"}),r&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(o.g6,{to:"favorite",children:"favorite ads"}),(0,l.jsx)(o.g6,{to:"own",children:"my ads"})]})]}),(0,l.jsxs)(x.xu,{display:"flex",w:{base:"80px",md:"140px"},h:{base:"80px"},flexDirection:{base:"column-reverse",md:"row"},alignItems:{base:"center"},justifyContent:{base:"center"},borderRadius:{base:"50%",md:"100%"},bgColor:{base:"#F59256",md:"transparent"},as:"Button",position:{base:"fixed",md:"static"},top:"455px",right:"20px",zIndex:"2",children:[(0,l.jsx)(m.x,{maxWidth:{xl:"767px"},size:{w:"74px",h:"27px"},textAlign:"center",fontStyle:"normal",fontWeight:"500",fontSize:{base:"12px",md:"20px"},lineHeight:"27px",mr:{base:"0px",md:"12px"},color:{base:"white",md:"#111111"},children:"Add pet"}),(0,l.jsx)(x.xu,{display:"flex",alignItems:{base:"center"},justifyContent:{base:"center"},backgroundColor:"#F59256",borderRadius:"50%",w:{base:"21px",md:"44px"},h:{base:"21px",md:"44px"},_hover:{backgroundColor:"#FF6101"},_focus:{backgroundColor:"#FF6101"},onClick:function(){r||(0,s.Am)("Please log in!"),n(!0)},children:(0,l.jsx)(D,{w:{base:"21px",md:"16px"},h:{base:"21px",md:"16px"},color:"white"})})]}),(0,l.jsx)(o.u_,{isOpen:t,onClose:a,title:"Add pet",children:(0,l.jsx)(M,{onClose:a})})]})})},S=n(5946),_=function(){var e=(0,r.useState)(""),t=(0,a.Z)(e,2),n=t[0],s=t[1];console.log(n);var c=(0,i.TH)(),x=(0,i.s0)(),m=c.pathname;return(0,r.useEffect)((function(){"/notices"===m&&x("sell")}),[m,x]),(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(o.W2,{children:(0,l.jsxs)(o.$0,{children:[(0,l.jsx)(S.X,{as:"h1",fontSize:{base:"24px",md:"48px"},fontWeight:"bold",lineHeight:"short",textAlign:"center",mb:7,children:"Find your favorite pet"}),(0,l.jsx)(d,{setSearchQuery:s}),(0,l.jsx)(Y,{}),(0,l.jsx)(r.Suspense,{fallback:null,children:(0,l.jsx)(i.j3,{})})]})})})}}}]);
//# sourceMappingURL=520.d32b72f1.chunk.js.map