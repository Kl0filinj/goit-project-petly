"use strict";(self.webpackChunkgoit_project_petly=self.webpackChunkgoit_project_petly||[]).push([[520],{8520:function(e,t,n){n.r(t),n.d(t,{Notices:function(){return k}});var a=n(9439),r=n(2791),i=n(7689),o=n(3923),s=n(9085),l=n(184),d=function(e){var t=e.searchFunction,n=(0,r.useState)(""),i=(0,a.Z)(n,2),d=i[0],c=i[1];return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(o.HS,{type:"text",name:"search",onChange:function(e){c(e.target.value.toLowerCase()),t(e.target.value)},handleSearch:function(e){e.preventDefault(),""!==d.trim()?t(d):(0,s.Am)("What pet do you need?")},handleClear:function(){c(""),t("")},value:d,mb:"28px"}),(0,l.jsx)(s.Ix,{})]})},c=n(8348),x=n(4087),m=n(9229),p=n(4224),u={categoryName:"lost-found",title:"",name:"",birthday:"",breed:"",sex:"male",location:"",price:"",photo:null,comments:""},h=n(1724),f=n(2426),b=n.n(f),g=/(^[1-9])(\d*)$/,j=["image/jpg","image/jpeg","image/png"],y=h.Ry().shape({categoryName:h.Z_().oneOf(["lost-found","for-free","sell"]).required("Required"),title:h.Z_().min(2).max(48).required("Required"),name:h.Z_().min(2).max(16),birthday:h.hT().min(b()("06021995","DDMMYYYY"),"Must be at later than 06.02.1995").max(b()(),"Must be at earlier than ".concat(b()().add(1,"days").format("DD.MM.YYYY"))),breed:h.Z_().min(2).max(24),sex:h.Z_().oneOf(["male","female"]).required("Required"),location:h.Z_().matches(/^(?:(?:\w+-\w+)+|(?:\w+)+),\s(?:(?:\w+-\w+)+|(?:\w+)+)$/,"Must be in format City, Region").required("Required"),price:h.Z_().when("categoryName",{is:"sell",then:function(e){return e.matches(g,"Must be a positive integer number").required("Required")},otherwise:function(e){return e.notRequired()}}),photo:h.nK().test("fileFormat","Unsupported file type",(function(e){return null===e||e&&j.includes(e.type)})).nullable(),comments:h.Z_().min(8).max(120).required("Required")}),v=n(5705),w=n(9434),F=n(5984),C=n(3204),M=n(5062),D=n(8622),Y=function(e){var t=e.onClose,n=(0,w.I0)(),s=(0,w.v9)(D.uL),d=(0,i.TH)(),c=(0,r.useMemo)((function(){return d.pathname.split("/")[2]}),[d.pathname]),p=(0,r.useState)(!0),h=(0,a.Z)(p,2),f=h[0],g=h[1],j=(0,r.useMemo)((function(){return(0,F.x0)()}),[]),Y=(0,r.useMemo)((function(){return(0,F.x0)()}),[]),S=(0,r.useMemo)((function(){return(0,F.x0)()}),[]),_=(0,r.useMemo)((function(){return(0,F.x0)()}),[]),q=(0,r.useMemo)((function(){return(0,F.x0)()}),[]),N=(0,r.useMemo)((function(){return(0,F.x0)()}),[]),k=(0,r.useMemo)((function(){return(0,F.x0)()}),[]),z=(0,r.useMemo)((function(){return(0,F.x0)()}),[]);function O(e,t){var n=t.title,a=t.name,r=t.birthday,i=t.breed;return!e||void 0!==n||void 0!==a||void 0!==r||void 0!==i}return(0,l.jsx)(v.J9,{initialValues:u,validationSchema:y,onSubmit:function(e,a){var r=e.categoryName,i=e.title,s=e.name,l=e.birthday,d=e.breed,x=e.sex,m=e.location,p=e.price,u=e.photo,h=e.comments,f=a.resetForm,g=new FormData;g.append("categoryName",r),g.append("title",i.trim()),g.append("name",s.trim()),g.append("birthdate",l?b()(l,"YYYYY-MM-DD").format("DD.MM.YYYY"):null),g.append("breed",d.trim()),g.append("sex",x),g.append("location",m.trim()),g.append("price",p?Number(p):""),g.append("photo",u),g.append("comments",h.trim()),n((0,M.Fy)({newPet:g,category:c})).then((function(e){var n=e.error;if(n)return(0,o.Jc)(n.message);(0,o.Qm)("Notice successfully added"),f(),t()})).catch((function(e){return(0,o.Jc)(e.message)}))},validateOnChange:!0,validateOnBlur:!0,children:function(e){var n=e.values,a=e.errors,r=e.dirty;return(0,l.jsx)(v.l0,{autoComplete:"off",encType:"multipart/form-data",children:f?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(o.gt,{control:"category-radio",name:"categoryName"}),(0,l.jsx)(o.gt,{type:"text",name:"title",label:(0,l.jsxs)(l.Fragment,{children:["Title of ad",(0,l.jsx)(m.x,{as:"span",color:"accent.accentOrange",children:"*"})]}),placeholder:"Type title",id:j,width:60}),(0,l.jsx)(o.gt,{type:"text",name:"name",label:"Name pet",placeholder:"Type name pet",id:Y,width:60}),(0,l.jsx)(o.gt,{type:"date",name:"birthday",label:"Date of birthday",id:S,width:60}),(0,l.jsx)(o.gt,{type:"text",name:"breed",label:"Breed",placeholder:"Type breed",id:_,width:60,mb:"40px"}),(0,l.jsxs)(x.xu,{maxW:"none",display:"flex",flexDirection:{base:"column",md:"row-reverse"},justifyContent:{base:"center",md:"center"},children:[(0,l.jsx)(o.zx,{controle:"secondary",onClick:function(){return g(!1)},isDisabled:O(r,a),mb:{base:"3",md:"0"},width:{md:"180px"},children:"Next"}),(0,l.jsx)(o.zx,{onClick:t,mr:{md:"5"},width:{md:"180px"},children:"Cancel"})]})]}):(0,l.jsxs)(x.xu,{display:"flex",flexDirection:"column",maxW:"none",children:[(0,l.jsx)(o.gt,{control:"sex-radio",name:"sex",label:(0,l.jsxs)(l.Fragment,{children:["The sex",(0,l.jsx)(m.x,{as:"span",color:"accent.accentOrange",children:"*"})]})}),(0,l.jsx)(o.gt,{type:"text",name:"location",label:(0,l.jsxs)(l.Fragment,{children:["Location",(0,l.jsx)(m.x,{as:"span",color:"accent.accentOrange",children:"*"})]}),placeholder:'Type location, e.g. "Kyiv, UA"',id:q,width:"60"}),"sell"===n.categoryName&&(0,l.jsx)(o.gt,{type:"text",name:"price",label:(0,l.jsxs)(l.Fragment,{children:["Price",(0,l.jsx)(m.x,{as:"span",color:"accent.accentOrange",children:"*"})]}),placeholder:"Type price",id:N,width:"60"}),(0,l.jsx)(m.x,{fontSize:{base:"18px",md:"2xl"},fontWeight:"medium",lineHeight:{base:"short",md:"1.2"},letterSpacing:"-0.01em",mb:"5",children:"Load the pet`s image"}),(0,l.jsx)(o.gt,{control:"file",id:k,name:"photo",size:{base:"116px",md:"140px"},borderRadius:"20px",plusSize:{base:"55%",md:"50%"}}),(0,l.jsx)(o.gt,{control:"textarea",name:"comments",label:(0,l.jsxs)(l.Fragment,{children:["Comments",(0,l.jsx)(m.x,{as:"span",color:"accent.accentOrange",children:"*"})]}),placeholder:"Type comments",id:z}),(0,l.jsxs)(x.xu,{maxW:"none",width:"full",display:"flex",flexDirection:{base:"column",md:"row-reverse"},justifyContent:{base:"center",md:"center"},children:[(0,l.jsx)(o.zx,{type:"submit",mb:{base:"3",md:"0"},controle:"secondary",width:{md:"180px"},children:s?(0,l.jsxs)(l.Fragment,{children:[" Adding ",(0,l.jsx)(C.$,{emptyColor:"#FF6101",color:"#F5F5F5",textAlign:"center",size:"xs"})]}):"Done"}),(0,l.jsx)(o.zx,{onClick:function(){return g(!0)},mr:{md:"5"},width:{md:"180px"},children:"Back"})]})]})})}})},S=n(9869),_=(0,n(5903).I)({d:"M0,12a1.5,1.5,0,0,0,1.5,1.5h8.75a.25.25,0,0,1,.25.25V22.5a1.5,1.5,0,0,0,3,0V13.75a.25.25,0,0,1,.25-.25H22.5a1.5,1.5,0,0,0,0-3H13.75a.25.25,0,0,1-.25-.25V1.5a1.5,1.5,0,0,0-3,0v8.75a.25.25,0,0,1-.25.25H1.5A1.5,1.5,0,0,0,0,12Z",displayName:"AddIcon"}),q=function(){var e=(0,c.q)(),t=e.isOpen,n=e.onOpen,a=e.onClose,r=(0,w.v9)(S.M7);return(0,l.jsx)(x.xu,{maxWidth:{base:"280px",md:"704px",xl:"1248px"},mx:"auto",id:"22",children:(0,l.jsxs)(x.xu,{mb:{base:"30px",md:"60px"},display:"flex",children:[(0,l.jsxs)(x.xu,{as:"nav",maxW:{base:"280px",md:"474px",xl:"802px"},display:"flex",flexWrap:"wrap",gap:{base:"12px",md:"16px 12px",xl:"12px"},mr:"auto",ml:{base:"auto",md:"0"},children:[(0,l.jsx)(o.g6,{to:"lost-found",children:"lost/found"}),(0,l.jsx)(o.g6,{to:"for-free",children:"in good hand"}),(0,l.jsx)(o.g6,{exact:"true",to:"sell",children:"sell"}),r&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(o.g6,{to:"favorite",children:"favorite ads"}),(0,l.jsx)(o.g6,{to:"own",children:"my ads"})]})]}),(0,l.jsxs)(x.xu,{display:"flex",w:{base:"80px",md:"140px"},h:{base:"80px"},flexDirection:{base:"column-reverse",md:"row"},alignItems:{base:"center"},justifyContent:{base:"center"},borderRadius:{base:"50%",md:"100%"},bgColor:{base:"#F59256",md:"transparent"},position:{base:"fixed",md:"static"},top:"455px",right:"20px",zIndex:"2",children:[(0,l.jsx)(m.x,{maxWidth:{xl:"767px"},size:{w:"74px",h:"27px"},textAlign:"center",fontStyle:"normal",fontWeight:"500",fontSize:{base:"12px",md:"20px"},lineHeight:"27px",mr:{base:"0px",md:"12px"},color:{base:"white",md:"#111111"},children:"Add pet"}),(0,l.jsx)(p.z,{display:"flex",alignItems:{base:"center"},justifyContent:{base:"center"},backgroundColor:"#F59256",borderRadius:"50%",w:{base:"21px",md:"44px"},h:{base:"21px",md:"44px"},_hover:{backgroundColor:"#FF6101"},_focus:{backgroundColor:"#FF6101"},onClick:function(){r||(0,s.Am)("Please log in!"),n(!0)},children:(0,l.jsx)(_,{w:{base:"21px",md:"16px"},h:{base:"21px",md:"16px"},color:"white"})})]}),(0,l.jsx)(o.u_,{isOpen:t,onClose:a,title:"Add pet",children:(0,l.jsx)(Y,{onClose:a})})]})})},N=n(5946),k=function(){var e=(0,r.useState)(""),t=(0,a.Z)(e,2)[1],n=(0,i.TH)(),s=(0,i.s0)(),c=(0,w.v9)(D.nN),m=n.pathname;return(0,r.useEffect)((function(){"/notices"===m&&s("sell")}),[m,s]),(0,l.jsx)(x.xu,{bgColor:"#FDF7F2",h:"100vh",children:(0,l.jsx)(o.W2,{h:"100vh",children:(0,l.jsxs)(o.$0,{children:[(0,l.jsx)(N.X,{as:"h1",fontSize:{base:"24px",md:"48px"},fontWeight:"bold",lineHeight:"short",textAlign:"center",mb:7,children:"Find your favorite pet"}),(0,l.jsx)(d,{setSearchQuery:t}),(0,l.jsx)(q,{}),(0,l.jsx)(r.Suspense,{fallback:null,children:c?(0,l.jsx)(N.X,{children:"Here is problem, try to reload the page"}):(0,l.jsx)(i.j3,{})})]})})})}}}]);
//# sourceMappingURL=520.2acfb99c.chunk.js.map