"use strict";(self.webpackChunkgoit_project_petly=self.webpackChunkgoit_project_petly||[]).push([[890],{8890:function(e,t,n){n.r(t),n.d(t,{Notices:function(){return I}});var a=n(9439),r=n(2791),o=n(1087),i=n(7689),s=n(9434),l=n(4087),c=n(5946),u=n(3923),d=n(9085),x=function(e){return e.filter},p=n(5653),m=n(184),h=function(e){var t=e.submitFunction,n=(0,s.I0)(),o=(0,s.v9)(x),l=(0,r.useState)(!1),c=(0,a.Z)(l,2),h=c[0],f=c[1],g=(0,i.TH)(),b=(0,r.useMemo)((function(){return g.pathname.split("/")[2]}),[g.pathname]);(0,r.useEffect)((function(){""===o&&f(!1)}),[o]);return(0,m.jsx)(u.HS,{type:"text",name:"search",onChange:function(e){var t=e.target.value;n((0,p.T)(t))},handleSearch:function(e){e.preventDefault(),""!==o.trim()?(t(),f(!0)):(0,d.Am)("What pet do you need?")},handleClear:function(){n((0,p.T)("")),f(!1)},value:o,isSubmited:h,mb:"28px",category:b})},f=n(8348),g=n(9229),b=n(4224),y={categoryName:"lost-found",title:"",name:"",birthday:"",breed:"",sex:"male",location:"",price:"",photo:null,comments:""},F=n(1724),j=n(2426),v=n.n(j),w=/(^[1-9])(\d*)$/,C=["image/jpg","image/jpeg","image/png"],D=F.Ry().shape({categoryName:F.Z_().oneOf(["lost-found","for-free","sell"]).required("Required"),title:F.Z_().min(2).max(48).matches(/^(?!(?:(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?[0-9]){3})((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)$/,"Can contain only two digits").required("Required"),name:F.Z_().min(2).max(16).matches(/^[A-Za-z\u0410-\u042f\u0430-\u044f\u0451\u0401\u0407\u0457\u0406\u0456\u0404\u0454\u0490\u0491\s\-']+$/,"Can only contain letters"),birthday:F.hT().min(v()("06021995","DDMMYYYY"),"Must be at later than 06.02.1995").max(v()(),"Must be at earlier than ".concat(v()().add(1,"days").format("DD.MM.YYYY"))),breed:F.Z_().min(2).max(24).matches(/^[A-Za-z\u0410-\u042f\u0430-\u044f\u0451\u0401\u0407\u0457\u0406\u0456\u0404\u0454\u0490\u0491\s\-']+$/,"Can only contain letters"),sex:F.Z_().oneOf(["male","female"]).required("Required"),location:F.Z_().matches(/^(?:(?:\w+-\w+)+|(?:\w+)+),\s(?:(?:\w+-\w+)+|(?:\w+)+)$/,"Must be in format City, Region").required("Required"),price:F.Z_().when("categoryName",{is:"sell",then:function(e){return e.matches(w,"Must be a positive integer number").required("Required")},otherwise:function(e){return e.notRequired()}}),photo:F.nK().test("fileSize","Only documents up to 1MB are permitted",(function(e){return null===e||e&&e.size<=1e6})).test("fileFormat","Unsupported file type",(function(e){return null===e||e&&C.includes(e.type)})).nullable(),comments:F.Z_().min(8).max(120).required("Required")}),k=n(5705),B=n(5984),M=n(3204),N=n(5062),S=n(8622),z=function(e){var t=e.onClose,n=(0,s.I0)(),o=(0,s.v9)(S.uL),c=(0,i.TH)(),d=(0,r.useMemo)((function(){return c.pathname.split("/")[2]}),[c.pathname]),x=(0,r.useState)(!0),p=(0,a.Z)(x,2),h=p[0],f=p[1],b=(0,r.useMemo)((function(){return(0,B.x0)()}),[]),F=(0,r.useMemo)((function(){return(0,B.x0)()}),[]),j=(0,r.useMemo)((function(){return(0,B.x0)()}),[]),w=(0,r.useMemo)((function(){return(0,B.x0)()}),[]),C=(0,r.useMemo)((function(){return(0,B.x0)()}),[]),z=(0,r.useMemo)((function(){return(0,B.x0)()}),[]),R=(0,r.useMemo)((function(){return(0,B.x0)()}),[]),L=(0,r.useMemo)((function(){return(0,B.x0)()}),[]);function T(e,t){var n=t.title,a=t.name,r=t.birthday,o=t.breed;return!e||void 0!==n||void 0!==a||void 0!==r||void 0!==o}return(0,m.jsx)(k.J9,{initialValues:y,validationSchema:D,onSubmit:function(e,a){var r=e.categoryName,o=e.title,i=e.name,s=e.birthday,l=e.breed,c=e.sex,x=e.location,p=e.price,m=e.photo,h=e.comments,f=a.resetForm,g=new FormData;g.append("categoryName",r),g.append("title",o.trim()),g.append("name",i.trim()),g.append("birthdate",s?v()(s,"YYYYY-MM-DD").format("DD.MM.YYYY"):null),g.append("breed",l.trim()),g.append("sex",c),g.append("location",x.trim()),g.append("price",p?Number(p):""),g.append("photo",m),g.append("comments",h.trim()),n((0,N.Fy)({newPet:g,category:d})).then((function(e){var n=e.error;if(n)return(0,u.Jc)(n.message);(0,u.Qm)("Notice successfully added"),f(),t()})).catch((function(e){return(0,u.Jc)(e.message)}))},validateOnChange:!0,children:function(e){var n=e.values,a=e.errors,r=e.dirty;return(0,m.jsx)(k.l0,{autoComplete:"off",encType:"multipart/form-data",children:h?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(u.gt,{control:"category-radio",name:"categoryName"}),(0,m.jsx)(u.gt,{type:"text",name:"title",label:(0,m.jsxs)(m.Fragment,{children:["Title of ad",(0,m.jsx)(g.x,{as:"span",color:"accent.accentOrange",children:"*"})]}),placeholder:"Type title",id:b,width:60}),(0,m.jsx)(u.gt,{type:"text",name:"name",label:"Name pet",placeholder:"Type name pet",id:F,width:60}),(0,m.jsx)(u.gt,{type:"date",name:"birthday",label:"Date of birthday",id:j,width:60}),(0,m.jsx)(u.gt,{type:"text",name:"breed",label:"Breed",placeholder:"Type breed",id:w,width:60,mb:"40px"}),(0,m.jsxs)(l.xu,{maxW:"none",display:"flex",flexDirection:{base:"column",md:"row-reverse"},justifyContent:{base:"center",md:"center"},children:[(0,m.jsx)(u.zx,{controle:"secondary",onClick:function(){return f(!1)},isDisabled:T(r,a),mb:{base:"3",md:"0"},width:{md:"180px"},children:"Next"}),(0,m.jsx)(u.zx,{onClick:t,mr:{md:"5"},width:{md:"180px"},children:"Cancel"})]})]}):(0,m.jsxs)(l.xu,{display:"flex",flexDirection:"column",maxW:"none",children:[(0,m.jsx)(u.gt,{control:"sex-radio",name:"sex",label:(0,m.jsxs)(m.Fragment,{children:["The sex",(0,m.jsx)(g.x,{as:"span",color:"accent.accentOrange",children:"*"})]})}),(0,m.jsx)(u.gt,{type:"text",name:"location",label:(0,m.jsxs)(m.Fragment,{children:["Location",(0,m.jsx)(g.x,{as:"span",color:"accent.accentOrange",children:"*"})]}),placeholder:'Type location, e.g. "Kyiv, UA"',id:C,width:"60"}),"sell"===n.categoryName&&(0,m.jsx)(u.gt,{type:"text",name:"price",label:(0,m.jsxs)(m.Fragment,{children:["Price",(0,m.jsx)(g.x,{as:"span",color:"accent.accentOrange",children:"*"})]}),placeholder:"Type price",id:z,width:"60"}),(0,m.jsx)(g.x,{fontSize:{base:"18px",md:"2xl"},fontWeight:"medium",lineHeight:{base:"short",md:"1.2"},letterSpacing:"-0.01em",mb:"5",children:"Load the pet`s image"}),(0,m.jsx)(u.gt,{control:"file",id:R,name:"photo",size:{base:"116px",md:"140px"},mx:0,borderRadius:"20px",plusSize:{base:"55%",md:"50%"}}),(0,m.jsx)(u.gt,{control:"textarea",name:"comments",label:(0,m.jsxs)(m.Fragment,{children:["Comments",(0,m.jsx)(g.x,{as:"span",color:"accent.accentOrange",children:"*"})]}),placeholder:"Type comments",id:L}),(0,m.jsxs)(l.xu,{maxW:"none",width:"full",display:"flex",flexDirection:{base:"column",md:"row-reverse"},justifyContent:{base:"center",md:"center"},children:[(0,m.jsx)(u.zx,{type:"submit",mb:{base:"3",md:"0"},controle:"secondary",width:{md:"180px"},children:o?(0,m.jsxs)(m.Fragment,{children:[" Adding ",(0,m.jsx)(M.$,{emptyColor:"#FF6101",color:"#F5F5F5",textAlign:"center",size:"xs"})]}):"Done"}),(0,m.jsx)(u.zx,{onClick:function(){return f(!0)},mr:{md:"5"},width:{md:"180px"},children:"Back"})]})]})})}})},R=n(9869),L=n(8652),T=function(){var e=(0,f.q)(),t=e.isOpen,n=e.onOpen,a=e.onClose,r=(0,s.v9)(R.M7);return(0,m.jsx)(l.xu,{maxWidth:{base:"280px",md:"704px",xl:"1248px"},mx:"auto",id:"22",children:(0,m.jsxs)(l.xu,{mb:{base:"30px",md:"60px"},display:"flex",children:[(0,m.jsxs)(l.xu,{as:"nav",maxW:{base:"280px",md:"474px",xl:"802px"},display:"flex",flexWrap:"wrap",gap:{base:"12px",md:"16px 12px",xl:"12px"},mr:"auto",ml:{base:"auto",md:"0"},children:[(0,m.jsx)(u.g6,{to:"lost-found",children:"lost/found"}),(0,m.jsx)(u.g6,{to:"for-free",children:"in good hand"}),(0,m.jsx)(u.g6,{exact:"true",to:"sell",children:"sell"}),r&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(u.g6,{to:"favorite",children:"favorite ads"}),(0,m.jsx)(u.g6,{to:"own",children:"my ads"})]})]}),(0,m.jsxs)(l.xu,{display:"flex",w:{base:"80px",md:"140px"},h:{base:"80px"},flexDirection:{base:"column-reverse",md:"row"},alignItems:{base:"center"},justifyContent:{base:"center"},borderRadius:{base:"50%",md:"100%"},bgColor:{base:"#F59256",md:"transparent"},position:{base:"fixed",md:"static"},top:"455px",right:"20px",zIndex:"2",children:[(0,m.jsx)(g.x,{maxWidth:{xl:"767px"},size:{w:"74px",h:"27px"},textAlign:"center",fontStyle:"normal",fontWeight:"500",fontSize:{base:"12px",md:"20px"},lineHeight:"27px",mr:{base:"0px",md:"12px"},color:{base:"white",md:"#111111"},children:"Add pet"}),(0,m.jsx)(b.z,{display:"flex",alignItems:{base:"center"},justifyContent:{base:"center"},backgroundColor:"#F59256",borderRadius:"50%",w:{base:"21px",md:"44px"},h:{base:"21px",md:"44px"},_hover:{backgroundColor:"#FF6101"},_focus:{backgroundColor:"#FF6101"},onClick:function(){r?n(!0):(0,d.Am)("Please log in!")},children:(0,m.jsx)(L.d,{w:{base:"21px",md:"16px"},h:{base:"21px",md:"16px"},color:"white"})})]}),(0,m.jsx)(u.u_,{isOpen:t,onClose:a,title:"Add pet",children:(0,m.jsx)(z,{onClose:a})})]})})},Z=n(6158),_=n(176),Y=n(6048),O=n.n(Y),q=n(2491),A=function(e){var t=e.total,n=e.currentPage,i=(0,q.a)("(max-width: 767px)"),s=(0,a.Z)(i,1)[0],c=(0,o.lr)(),u=(0,a.Z)(c,2)[1],d=(0,r.useState)(0),x=(0,a.Z)(d,2),p=x[0],h=x[1];(0,r.useEffect)((function(){null!==t&&h(n)}),[t,n]);var f=Math.ceil(t/8);return(0,m.jsx)(_.k,{justify:"center",children:(0,m.jsx)(l.xu,{as:O(),previousLabel:"Prev",nextLabel:"Next",pageCount:f,onPageChange:function(e){var t=e.selected;u({page:t+1}),window.scrollTo({top:0,behavior:"smooth"})},forcePage:p-1,pageRangeDisplayed:s?0:2,marginPagesDisplayed:s?0:2,renderOnZeroPageCount:null,containerClassName:"paginationList",pageClassName:"paginationButton",pageLinkClassName:"paginationLink",previousClassName:"paginationButton prevButton",previousLinkClassName:"paginationLink extremeButtonsLink prevButtonLink",nextClassName:"paginationButton nextButton",nextLinkClassName:"paginationLink extremeButtonsLink nextButtonLink",breakClassName:"paginationBreak",__css:{"&":{display:"flex",listStyle:"none",pt:"60px"},".paginationButton":{display:"flex",justify:"center",align:"center",w:"40px",h:"40px",mr:"10px",bg:"#FFFFFF",borderRadius:"50%"},".paginationButton:nth-last-of-type(-n + 2)":{mr:"0"},".paginationButton:not(.disabled):hover":{bg:"accent.accentOrange",color:"#FFFFFF"},".paginationLink":{w:"40px",h:"40px",textAlign:"center",p:"10px",pb:"10px",fontSize:"14px",lineHeight:"1.3",border:"2px solid",borderColor:"accent.accentOrange",borderRadius:"50%"},".prevButton":{w:"60px",mr:"15px",borderRadius:"10px"},".nextButton":{w:"60px",ml:"15px",borderRadius:"10px"},".extremeButtonsLink":{w:"60px",px:"10px",py:"10px",borderRadius:"10px"},".paginationBreak":{display:"flex",alignItems:"center",mr:"10px",fontWeight:"500",fontSize:"20px"},".selected":{bg:"accent.accentOrange",color:"#FFFFFF"},".disabled > a":{borderColor:"#bfbfbf",bg:"#f3f3f3",color:"#bfbfbf"},".disabled:hover > a":{cursor:"default"}}})})},W=n(854),E=n(8082);var H=n.p+"static/media/dog.ec68581ba42861ff1332c12b19da1ee8.svg",P=function(e){var t=e.category;return(0,m.jsxs)(l.xu,{textAlign:"center",children:[(0,m.jsx)(E.E,{margin:"auto",src:H,alt:"dog"}),(0,m.jsx)(c.X,{mt:"10",fontSize:"2xl",fontWeight:"bold",children:"own"===t?"You have not added your pets yet.":"favorite"===t?"There are currently no favorite animals.":"sell"===t?"There are currently no pets for sale.":"for-free"===t?"There are no pets that can be free.":"lost-found"===t?"So far, no pets have been found or lost.":"Oops! Your pet list is empty."}),(0,m.jsx)(g.x,{mt:"4",fontSize:"xl",children:"Don't worry, you are in the right place! Try using the navigation menu to get back on track."})]})},I=function(){var e=(0,s.I0)(),t=(0,i.TH)().pathname.split("/")[2],n=(0,o.lr)(),d=(0,a.Z)(n,2),p=d[0],f=d[1],g=p.get("page"),b=null===g?1:g,y=(0,r.useState)(0),F=(0,a.Z)(y,2),j=F[0],v=F[1],w=(0,s.v9)(x).toLowerCase(),C=(0,s.v9)(S.Sv),D=C.categories,k=C.totalNotices,B=(0,s.v9)(S.mR),M=(0,s.v9)(S.MI),z=(0,s.v9)(S.uL),R=(0,s.v9)(S.nN);(0,r.useEffect)((function(){f(""!==w?{page:null===b?1:b,query:w}:{page:null===b?1:b})}),[b,w,f]),(0,r.useEffect)((function(){v("favorite"===t?B.length:"own"===t?M.length:k)}),[t,B.length,M.length,k,j]),(0,r.useEffect)((function(){if(""===w){if("favorite"===t)return void e((0,N._l)());e("own"===t?(0,N.RB)():(0,N._H)({categoryName:t,page:b}))}}),[e,t,b,w]);var L=(0,r.useMemo)((function(){return"favorite"===t?B:"own"===t?M:D}),[D,t,B,M]);return(0,m.jsx)(l.xu,{bgColor:"#FDF7F2",h:"100vh",children:(0,m.jsx)(u.W2,{children:(0,m.jsxs)(u.$0,{children:[(0,m.jsx)(c.X,{as:"h1",fontSize:{base:"24px",md:"48px"},fontWeight:"bold",lineHeight:"short",textAlign:"center",mb:7,children:"Find your favorite pet"}),(0,m.jsx)(h,{submitFunction:function(){"own"===t&&e((0,N.RB)()),e("favorite"===t?(0,N._l)():(0,N.tK)({categoryName:t,searchQuery:w}))}}),(0,m.jsx)(T,{}),(0,m.jsxs)(r.Suspense,{fallback:null,children:[R&&(0,m.jsx)(c.X,{children:" Here is problem, try to reload the page"}),z?(0,m.jsx)(W.Z,{}):0!==L.length?(0,m.jsx)(Z.Z,{notices:L}):(0,m.jsx)(P,{category:t}),!z&&k>8&&(0,m.jsx)(A,{total:j,currentPage:b})]})]})})})}}}]);
//# sourceMappingURL=890.97ec6d18.chunk.js.map