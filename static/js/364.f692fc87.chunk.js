"use strict";(self.webpackChunkgoit_project_petly=self.webpackChunkgoit_project_petly||[]).push([[364],{5364:function(e,t,n){n.r(t),n.d(t,{Notices:function(){return B}});var a=n(9439),r=n(2791),i=n(1087),o=n(7689),s=n(9434),l=n(4087),c=n(5946),d=n(3923),u=n(9085),x=function(e){return e.filter},m=n(5653),p=n(184),h=function(e){var t=e.submitFunction,n=(0,s.I0)(),i=(0,s.v9)(x),l=(0,r.useState)(!1),c=(0,a.Z)(l,2),h=c[0],f=c[1],g=(0,o.TH)(),b=(0,r.useMemo)((function(){return g.pathname.split("/")[2]}),[g.pathname]);(0,r.useEffect)((function(){""===i&&f(!1)}),[i]);return(0,p.jsx)(d.HS,{type:"text",name:"search",onChange:function(e){var t=e.target.value;n((0,m.T)(t))},handleSearch:function(e){e.preventDefault(),""!==i.trim()?(t(),f(!0)):(0,u.Am)("What pet do you need?")},handleClear:function(){n((0,m.T)("")),f(!1)},value:i,isSubmited:h,mb:"28px",category:b})},f=n(8348),g=n(9229),b=n(4224),y={categoryName:"lost-found",title:"",name:"",birthday:"",breed:"",sex:"male",location:"",price:"",photo:null,comments:""},F=n(1724),j=n(2426),v=n.n(j),D=/(^[1-9])(\d*)$/,w=["image/jpg","image/jpeg","image/png"],C=F.Ry().shape({categoryName:F.Z_().oneOf(["lost-found","for-free","sell"]).required("Required"),title:F.Z_().min(2).max(48).matches(/^(?!(?:(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?[0-9]){3})((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)$/,"Can contain only two digits").required("Required"),name:F.Z_().min(2).max(16).matches(/^[A-Za-z\u0410-\u042f\u0430-\u044f\u0451\u0401\u0407\u0457\u0406\u0456\u0404\u0454\u0490\u0491\s\-']+$/,"Can only contain letters"),birthday:F.hT().min(v()("06021995","DDMMYYYY"),"Must be at later than 06.02.1995").max(v()(),"Must be at earlier than ".concat(v()().add(1,"days").format("DD.MM.YYYY"))),breed:F.Z_().min(2).max(24).matches(/^[A-Za-z\u0410-\u042f\u0430-\u044f\u0451\u0401\u0407\u0457\u0406\u0456\u0404\u0454\u0490\u0491\s\-']+$/,"Can only contain letters"),sex:F.Z_().oneOf(["male","female"]).required("Required"),location:F.Z_().matches(/^(?:(?:\w+-\w+)+|(?:\w+)+),\s(?:(?:\w+-\w+)+|(?:\w+)+)$/,"Must be in format City, Region").required("Required"),price:F.Z_().when("categoryName",{is:"sell",then:function(e){return e.matches(D,"Must be a positive integer number").required("Required")},otherwise:function(e){return e.notRequired()}}),photo:F.nK().test("fileSize","Only documents up to 1MB are permitted",(function(e){return null===e||e&&e.size<=1e6})).test("fileFormat","Unsupported file type",(function(e){return null===e||e&&w.includes(e.type)})).nullable(),comments:F.Z_().min(8).max(120).required("Required")}),M=n(5705),_=n(5984),z=n(3204),N=n(5062),Y=n(8622),Z=function(e){var t=e.onClose,n=(0,s.I0)(),i=(0,s.v9)(Y.uL),c=(0,o.TH)(),u=(0,r.useMemo)((function(){return c.pathname.split("/")[2]}),[c.pathname]),x=(0,r.useState)(!0),m=(0,a.Z)(x,2),h=m[0],f=m[1],b=(0,r.useMemo)((function(){return(0,_.x0)()}),[]),F=(0,r.useMemo)((function(){return(0,_.x0)()}),[]),j=(0,r.useMemo)((function(){return(0,_.x0)()}),[]),D=(0,r.useMemo)((function(){return(0,_.x0)()}),[]),w=(0,r.useMemo)((function(){return(0,_.x0)()}),[]),Z=(0,r.useMemo)((function(){return(0,_.x0)()}),[]),A=(0,r.useMemo)((function(){return(0,_.x0)()}),[]),S=(0,r.useMemo)((function(){return(0,_.x0)()}),[]);function T(e,t){var n=t.title,a=t.name,r=t.birthday,i=t.breed;return!e||void 0!==n||void 0!==a||void 0!==r||void 0!==i}return(0,p.jsx)(M.J9,{initialValues:y,validationSchema:C,onSubmit:function(e,a){var r=e.categoryName,i=e.title,o=e.name,s=e.birthday,l=e.breed,c=e.sex,x=e.location,m=e.price,p=e.photo,h=e.comments,f=a.resetForm,g=new FormData;g.append("categoryName",r),g.append("title",i.trim()),g.append("name",o.trim()),g.append("birthdate",s?v()(s,"YYYYY-MM-DD").format("DD.MM.YYYY"):null),g.append("breed",l.trim()),g.append("sex",c),g.append("location",x.trim()),g.append("price",m?Number(m):""),g.append("photo",p),g.append("comments",h.trim()),n((0,N.Fy)({newPet:g,category:u})).then((function(e){var n=e.error;if(n)return(0,d.Jc)(n.message);(0,d.Qm)("Notice successfully added"),f(),t()})).catch((function(e){return(0,d.Jc)(e.message)}))},validateOnChange:!0,children:function(e){var n=e.values,a=e.errors,r=e.dirty;return(0,p.jsx)(M.l0,{autoComplete:"off",encType:"multipart/form-data",children:h?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(d.gt,{control:"category-radio",name:"categoryName"}),(0,p.jsx)(d.gt,{type:"text",name:"title",label:(0,p.jsxs)(p.Fragment,{children:["Title of ad",(0,p.jsx)(g.x,{as:"span",color:"accent.accentOrange",children:"*"})]}),placeholder:"Type title",id:b,width:60}),(0,p.jsx)(d.gt,{type:"text",name:"name",label:"Name pet",placeholder:"Type name pet",id:F,width:60}),(0,p.jsx)(d.gt,{type:"date",name:"birthday",label:"Date of birthday",id:j,width:60}),(0,p.jsx)(d.gt,{type:"text",name:"breed",label:"Breed",placeholder:"Type breed",id:D,width:60,mb:"40px"}),(0,p.jsxs)(l.xu,{maxW:"none",display:"flex",flexDirection:{base:"column",md:"row-reverse"},justifyContent:{base:"center",md:"center"},children:[(0,p.jsx)(d.zx,{controle:"secondary",onClick:function(){return f(!1)},isDisabled:T(r,a),mb:{base:"3",md:"0"},width:{md:"180px"},children:"Next"}),(0,p.jsx)(d.zx,{onClick:t,mr:{md:"5"},width:{md:"180px"},children:"Cancel"})]})]}):(0,p.jsxs)(l.xu,{display:"flex",flexDirection:"column",maxW:"none",children:[(0,p.jsx)(d.gt,{control:"sex-radio",name:"sex",label:(0,p.jsxs)(p.Fragment,{children:["The sex",(0,p.jsx)(g.x,{as:"span",color:"accent.accentOrange",children:"*"})]})}),(0,p.jsx)(d.gt,{type:"text",name:"location",label:(0,p.jsxs)(p.Fragment,{children:["Location",(0,p.jsx)(g.x,{as:"span",color:"accent.accentOrange",children:"*"})]}),placeholder:'Type location, e.g. "Kyiv, UA"',id:w,width:"60"}),"sell"===n.categoryName&&(0,p.jsx)(d.gt,{type:"text",name:"price",label:(0,p.jsxs)(p.Fragment,{children:["Price",(0,p.jsx)(g.x,{as:"span",color:"accent.accentOrange",children:"*"})]}),placeholder:"Type price",id:Z,width:"60"}),(0,p.jsx)(g.x,{fontSize:{base:"18px",md:"2xl"},fontWeight:"medium",lineHeight:{base:"short",md:"1.2"},letterSpacing:"-0.01em",mb:"5",children:"Load the pet`s image"}),(0,p.jsx)(d.gt,{control:"file",id:A,name:"photo",size:{base:"116px",md:"140px"},mx:0,borderRadius:"20px",plusSize:{base:"55%",md:"50%"}}),(0,p.jsx)(d.gt,{control:"textarea",name:"comments",label:(0,p.jsxs)(p.Fragment,{children:["Comments",(0,p.jsx)(g.x,{as:"span",color:"accent.accentOrange",children:"*"})]}),placeholder:"Type comments",id:S}),(0,p.jsxs)(l.xu,{maxW:"none",width:"full",display:"flex",flexDirection:{base:"column",md:"row-reverse"},justifyContent:{base:"center",md:"center"},children:[(0,p.jsx)(d.zx,{type:"submit",mb:{base:"3",md:"0"},controle:"secondary",width:{md:"180px"},children:i?(0,p.jsxs)(p.Fragment,{children:[" Adding ",(0,p.jsx)(z.$,{emptyColor:"#FF6101",color:"#F5F5F5",textAlign:"center",size:"xs"})]}):"Done"}),(0,p.jsx)(d.zx,{onClick:function(){return f(!0)},mr:{md:"5"},width:{md:"180px"},children:"Back"})]})]})})}})},A=n(9869),S=(0,n(5903).I)({d:"M0,12a1.5,1.5,0,0,0,1.5,1.5h8.75a.25.25,0,0,1,.25.25V22.5a1.5,1.5,0,0,0,3,0V13.75a.25.25,0,0,1,.25-.25H22.5a1.5,1.5,0,0,0,0-3H13.75a.25.25,0,0,1-.25-.25V1.5a1.5,1.5,0,0,0-3,0v8.75a.25.25,0,0,1-.25.25H1.5A1.5,1.5,0,0,0,0,12Z",displayName:"AddIcon"}),T=function(){var e=(0,f.q)(),t=e.isOpen,n=e.onOpen,a=e.onClose,r=(0,s.v9)(A.M7);return(0,p.jsx)(l.xu,{maxWidth:{base:"280px",md:"704px",xl:"1248px"},mx:"auto",id:"22",children:(0,p.jsxs)(l.xu,{mb:{base:"30px",md:"60px"},display:"flex",children:[(0,p.jsxs)(l.xu,{as:"nav",maxW:{base:"280px",md:"474px",xl:"802px"},display:"flex",flexWrap:"wrap",gap:{base:"12px",md:"16px 12px",xl:"12px"},mr:"auto",ml:{base:"auto",md:"0"},children:[(0,p.jsx)(d.g6,{to:"lost-found",children:"lost/found"}),(0,p.jsx)(d.g6,{to:"for-free",children:"in good hand"}),(0,p.jsx)(d.g6,{exact:"true",to:"sell",children:"sell"}),r&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(d.g6,{to:"favorite",children:"favorite ads"}),(0,p.jsx)(d.g6,{to:"own",children:"my ads"})]})]}),(0,p.jsxs)(l.xu,{display:"flex",w:{base:"80px",md:"140px"},h:{base:"80px"},flexDirection:{base:"column-reverse",md:"row"},alignItems:{base:"center"},justifyContent:{base:"center"},borderRadius:{base:"50%",md:"100%"},bgColor:{base:"#F59256",md:"transparent"},position:{base:"fixed",md:"static"},top:"455px",right:"20px",zIndex:"2",children:[(0,p.jsx)(g.x,{maxWidth:{xl:"767px"},size:{w:"74px",h:"27px"},textAlign:"center",fontStyle:"normal",fontWeight:"500",fontSize:{base:"12px",md:"20px"},lineHeight:"27px",mr:{base:"0px",md:"12px"},color:{base:"white",md:"#111111"},children:"Add pet"}),(0,p.jsx)(b.z,{display:"flex",alignItems:{base:"center"},justifyContent:{base:"center"},backgroundColor:"#F59256",borderRadius:"50%",w:{base:"21px",md:"44px"},h:{base:"21px",md:"44px"},_hover:{backgroundColor:"#FF6101"},_focus:{backgroundColor:"#FF6101"},onClick:function(){r?n(!0):(0,u.Am)("Please log in!")},children:(0,p.jsx)(S,{w:{base:"21px",md:"16px"},h:{base:"21px",md:"16px"},color:"white"})})]}),(0,p.jsx)(d.u_,{isOpen:t,onClose:a,title:"Add pet",children:(0,p.jsx)(Z,{onClose:a})})]})})},R=n(3130),q=n(7080),k=n(854),B=function(){var e=(0,s.I0)(),t=(0,o.TH)().pathname.split("/")[2],n=(0,i.lr)(),u=(0,a.Z)(n,2),m=u[0],f=u[1],g=m.get("page"),b=(0,s.v9)(x).toLowerCase(),y=(0,s.v9)(Y.Sv),F=y.categories,j=y.totalNotices,v=(0,s.v9)(Y.mR),D=(0,s.v9)(Y.MI),w=(0,s.v9)(Y.uL),C=(0,s.v9)(Y.nN);(0,r.useEffect)((function(){f({page:null===g?1:g})}),[g,f]),(0,r.useEffect)((function(){if(""===b){if("favorite"===t)return void e((0,N._l)());e("own"===t?(0,N.RB)():(0,N._H)({categoryName:t,page:g}))}}),[e,t,g,b]);var M=(0,r.useMemo)((function(){return"favorite"===t?v:"own"===t?D:F}),[F,t,v,D]);return(0,p.jsx)(l.xu,{bgColor:"#FDF7F2",h:"100vh",children:(0,p.jsx)(d.W2,{children:(0,p.jsxs)(d.$0,{children:[(0,p.jsx)(c.X,{as:"h1",fontSize:{base:"24px",md:"48px"},fontWeight:"bold",lineHeight:"short",textAlign:"center",mb:7,children:"Find your favorite pet"}),(0,p.jsx)(h,{submitFunction:function(){"own"===t&&e((0,N.RB)()),e("favorite"===t?(0,N._l)():(0,N.tK)({categoryName:t,searchQuery:b}))}}),(0,p.jsx)(T,{}),(0,p.jsxs)(r.Suspense,{fallback:null,children:[w&&(0,p.jsx)(k.Z,{}),0!==M.length?(0,p.jsx)(R.Z,{notices:M}):(0,p.jsx)(l.xu,{textAlign:"center",children:(0,p.jsx)(c.X,{children:"This Category is empty ^_^"})}),C&&(0,p.jsx)(c.X,{children:"Here is problem, try to reload the page"}),!w&&j>8&&(0,p.jsx)(q.Z,{total:j,currentPage:g})]})]})})})}}}]);
//# sourceMappingURL=364.f692fc87.chunk.js.map